{% extends '@Html/base.html.twig' %}

{% block html_head_title %}{{ 'Administration'|trans }} / Smart Core CMF{% endblock html_head_title %}

{% block html_head_meta %}
{{ parent() }}
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock html_head_meta %}

{% block html_head_styles %}
{{ parent() }}
    <style media="all" type="text/css"> @import url({{ app.request.basePath }}/assets/bootstrap/css/bootstrap.min.css); </style>
    <style media="all" type="text/css"> @import url({{ app.request.basePath }}/assets/bootstrap/css/bootstrap-responsive.min.css); </style>
    {#<style media="all" type="text/css"> @import url({{ app.request.basePath }}/assets/jquery-treeview/1.4.1/jquery.treeview.css); </style>#}
    {#<style media="all" type="text/css"> @import url({{ app.request.basePath }}/assets/jquery-dynatree/1.2.4/src/skin/ui.dynatree.css); </style>#}
    <style media="all" type="text/css"> @import url({{ app.request.basePath }}/assets/jquery-dynatree/1.2.4/src/skin-vista/ui.dynatree.css); </style>
{% endblock html_head_styles %}

{% block html_head_scripts %}
{{ parent() }}
    {#<script src="{{ app.request.basePath }}/assets/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>#}
    {#<script src="{{ app.request.basePath }}/assets/jquery-cookie/1.3.1/jquery.cookie.js" type="text/javascript"></script>#}
    {#<script src="{{ app.request.basePath }}/assets/jquery-treeview/1.4.1/jquery.treeview.js" type="text/javascript"></script>#}
    <script src="{{ app.request.basePath }}/assets/jquery-dynatree/1.2.4/jquery/jquery.min.js" type="text/javascript"></script>
    <script src="{{ app.request.basePath }}/assets/jquery-dynatree/1.2.4/jquery/jquery.cookie.js" type="text/javascript"></script>
    <script src="{{ app.request.basePath }}/assets/jquery-dynatree/1.2.4/jquery/jquery-ui.custom.min.js" type="text/javascript"></script>
    <script src="{{ app.request.basePath }}/assets/jquery-dynatree/1.2.4/src/jquery.dynatree.js" type="text/javascript"></script>
    <script src="{{ app.request.basePath }}/assets/cmf/jquery.ba-hashchange.min.js" type="text/javascript"></script>
    <script src="{{ app.request.basePath }}/assets/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
{% endblock html_head_scripts %}

{% block body_js %}
{{ parent() }}
    <script type="text/javascript">
    $.fn.setCursorPosition = function(position){
        if(this.length == 0) return this;
        return $(this).setSelection(position, position);
    }

    $.fn.setSelection = function(selectionStart, selectionEnd) {
        if(this.length == 0) return this;
        input = this[0];
        if (input.createTextRange) {
            var range = input.createTextRange();
            range.collapse(true);
            range.moveEnd('character', selectionEnd);
            range.moveStart('character', selectionStart);
            range.select();
        } else if (input.setSelectionRange) {
            input.focus();
            input.setSelectionRange(selectionStart, selectionEnd);
        }
        return this;
    }

    $.fn.focusEnd = function(){
        this.setCursorPosition(this.val().length);
        return this;
    }

    $(function(){
        $('.focused').focusEnd();
    });
    </script>
{% endblock body_js %}
