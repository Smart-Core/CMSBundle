<style type="text/css" media="screen">
    .ace_editor * {
        font-family: consolas, Courier, monospace;
        font-size: 14px;
    }
    #{{ form_element }}, #ace_params_yaml {
        font-family: consolas, Courier, monospace;
        font-size: 14px;
        width: 100%;
        height: 300px;
    }
</style>

<script src="{{ asset('bundles/felib/ace/ace.js') }}" type="text/javascript" charset="utf-8"></script>
<script>
    $('#{{ form_element }}_control_group > .controls').append('<div id="ace_params_yaml" />');

    var editor = ace.edit("ace_params_yaml");
    var textarea = $('#{{ form_element }}').hide();
    editor.setTheme("ace/theme/github");
    editor.getSession().setMode("ace/mode/yaml");
    editor.getSession().setValue(textarea.val());
    editor.getSession().on('change', function(){
        textarea.val(editor.getSession().getValue());
    });
</script>
